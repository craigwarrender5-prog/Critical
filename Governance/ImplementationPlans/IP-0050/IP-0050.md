# IP-0050 — DP-0008 Operator Interface & Scenarios: PZR Temperature Monitoring

**Version:** 1.0  
**Date:** 2026-02-17  
**Domain Plan:** DP-0008 — Operator Interface & Scenarios  
**Status:** CLOSED — COMPLETED

---

## 1. Problem Summary

The ValidationDashboard does not provide adequate monitoring of pressurizer temperature approach to saturation during cold startup. Per NRC HRTD 17.0, bubble formation occurs "when pressurizer temperature reaches saturation temperature for the pressure being maintained (450°F for 400 psig)." Without visual indication of T_pzr vs T_sat, operators cannot determine when the pressurizer is ready for bubble draw.

**Current State:**
- T_pzr is displayed as a numeric readout in RCS column
- No comparison to T_sat (saturation temperature at current pressure)
- No annunciator for PZR approaching/reaching saturation
- No PZR subcooling indicator specific to bubble formation readiness

---

## 2. Expectations (Acceptance Criteria)

After implementation:

1. **PZR Subcooling Readout:** A digital readout showing `T_sat - T_pzr` (°F) displayed in the Pressurizer column, labeled "PZR ΔT_SAT" or "PZR SUBCOOL"
2. **PZR SAT Annunciator:** An INFO-severity annunciator tile "PZR SAT" that:
   - Shows GREEN (Normal) when T_pzr ≥ T_sat - 5°F (approaching/at saturation)
   - Shows GRAY (Off) when T_pzr < T_sat - 5°F (subcooled)
3. **Event Log Entry:** When PZR SAT annunciator activates, event log records "PZR SAT: Pressurizer At Saturation"
4. **Color-Coded T_pzr:** Optional enhancement - T_pzr readout color changes based on approach to saturation

---

## 3. Included CS Items

| CS ID | Title | Severity | Status |
|-------|-------|----------|--------|
| CS-0108 | PZR temperature monitoring missing for bubble formation readiness during cold startup | MEDIUM | READY |

---

## 4. Dependency Hierarchy Analysis

### 4.1 Prerequisites
- None. This is a display-only enhancement with no physics dependencies.

### 4.2 Blocking Relationships
- None. CS-0108 has no blocking dependencies.

### 4.3 Shared Files/Systems

| File | Purpose | Risk |
|------|---------|------|
| `ValidationDashboard.Snapshot.cs` | Add PzrSubcooling field | LOW - additive change |
| `ValidationDashboard.Annunciators.cs` | Add PZR SAT tile definition | LOW - additive change |
| `Tabs/OverviewTab.cs` | Add subcooling readout to PZR column | LOW - layout adjustment |

### 4.4 Interference Risk
- **LOW** — All changes are additive to existing dashboard infrastructure
- No physics module changes
- No control system changes

---

## 5. Execution Order

### Stage 1: Snapshot Enhancement
**Goal:** Add PZR subcooling calculation to dashboard snapshot

**Files Modified:**
- `Assets/Scripts/Validation/ValidationDashboard.Snapshot.cs`

**Changes:**
1. Add `PzrSubcooling` field to `DashboardSnapshot` class
2. Calculate as `T_sat - T_pzr` in `CaptureFrom()` method
3. Add `PzrAtSaturation` boolean field (true when PzrSubcooling ≤ 5°F)

**Validation:** Compile check, field populated correctly

---

### Stage 2: Annunciator Tile Addition
**Goal:** Add PZR SAT annunciator tile to panel

**Files Modified:**
- `Assets/Scripts/Validation/ValidationDashboard.Annunciators.cs`

**Changes:**
1. Add new tile definition for "PZR SAT" at available slot
2. Set severity to `AlarmSeverity.Info`
3. Set condition to `s => s.PzrAtSaturation`
4. Description: "Pressurizer At Saturation Temperature"

**Validation:** Tile appears in annunciator panel, responds to condition

---

### Stage 3: Pressurizer Column Readout
**Goal:** Add PZR subcooling readout to Pressurizer column

**Files Modified:**
- `Assets/Scripts/Validation/Tabs/OverviewTab.cs`

**Changes:**
1. Add digital readout "PZR ΔT_SAT" showing `s.PzrSubcooling` in °F
2. Position after T_pzr readout or in appropriate location
3. Color-code: Green when ≤ 5°F, normal otherwise

**Validation:** Readout displays correctly, updates with simulation

---

### Stage 4: Validation & Documentation
**Goal:** Verify complete implementation against acceptance criteria

**Validation Steps:**
1. Start simulation in Mode 5 Cold Shutdown
2. Verify PZR subcooling readout shows (T_sat - T_pzr) accurately
3. Verify annunciator tile "PZR SAT" is OFF (gray) when T_pzr << T_sat
4. Run heatup until T_pzr approaches T_sat
5. Verify annunciator tile "PZR SAT" activates (green) when subcooling ≤ 5°F
6. Verify event log records activation

---

## 6. Unaddressed Issues

None. CS-0108 is the only issue in scope for this IP.

**Related but out-of-scope:**
- CS-0102 (Scenario system framework) — Separate IP
- CS-0103 (Scenario selection overlay) — Separate IP

---

## 7. Risk Assessment

| Risk | Likelihood | Impact | Mitigation |
|------|------------|--------|------------|
| Annunciator panel tile limit (27) | LOW | LOW | Repurpose unused tile slot if needed |
| Layout crowding in PZR column | LOW | LOW | Use compact readout format |
| Incorrect T_sat calculation | MINIMAL | MEDIUM | T_sat already computed by engine |

---

## 8. Cross-Domain Documentation

No cross-domain inclusion required. All changes are within DP-0008 scope (operator interface).

---

## 9. Revision History

| Version | Date | Author | Summary | Reason |
|---------|------|--------|---------|--------|
| v1.0 | 2026-02-17 | Codex | Initial IP creation | CS-0108 investigation complete, ready for execution |

---

## 10. Approval & Closure

**Status:** CLOSED — COMPLETED

This IP addressed a gap in operator visibility during cold startup per NRC HRTD 17.0 requirements. All changes are display-only with no physics impact.

**Approved:** 2026-02-17 by User  
**Executed:** 2026-02-17  
**Closed:** 2026-02-17

### Completion Summary

All 4 stages executed successfully:
- Stage 1: Snapshot fields `PzrSubcooling` and `PzrAtSaturation` added
- Stage 2: Annunciator tile "PZR SAT" added (slot 26, replaced PERM)
- Stage 3: Digital readout "PZR ΔT_SAT" added to Pressurizer column
- Stage 4: Validation complete, documentation updated

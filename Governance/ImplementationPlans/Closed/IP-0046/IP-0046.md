---
IP ID: IP-0046
DP Reference: DP-0011
Title: SG Startup Boundary and Pressure Response Rescheduled Execution
Status: CLOSED
Date: 2026-02-17
Mode: EXECUTED/CLOSEOUT
Source of Scope Truth: Governance/IssueRegister/issue_register.json
Predecessor: IP-0037 (RESCHEDULED)
Blocking Dependencies: IP-0045 and IP-0048 baseline freeze
Execution Start (Stages A-E): 2026-02-17T18:40:00Z
Execution Complete (Stages A-E): 2026-02-17T18:56:00Z
Closure Approved: 2026-02-18T01:45:44Z
CS-0115 Architecture Spec: Technical_Documentation/Condenser_Feedwater_Architecture_Specification.md
Stage A Report: Governance/ImplementationPlans/Closed/IP-0046/Reports/IP-0046_StageA_RootCause_2026-02-17_195300.md
Stage B Report: Governance/ImplementationPlans/Closed/IP-0046/Reports/IP-0046_StageB_DesignFreeze_2026-02-17_195600.md
Stage C Report: Governance/ImplementationPlans/Closed/IP-0046/Reports/IP-0046_StageC_ControlledRemediation_2026-02-17_200000.md
Stage D Report: Governance/ImplementationPlans/Closed/IP-0046/Reports/IP-0046_StageD_DomainValidation_2026-02-17_231000.md
Stage E Report: Governance/ImplementationPlans/Closed/IP-0046/Reports/IP-0046_StageE_SystemRegression_2026-02-17_231100.md
Closeout Report: Governance/ImplementationPlans/Closed/IP-0046/Reports/IP-0046_Closeout_Traceability.md
Closure Recommendation: Governance/ImplementationReports/IP-0046_Closure_Recommendation_2026-02-17.md
---

# IP-0046 - DP-0011 - SG Startup Boundary and Pressure Response Rescheduled Execution

## 1) Governance Header
- DP Reference: `DP-0011 - Steam Generator Secondary Physics`
- IP Status: `CLOSED`
- Included CS count: `5`
- Architecture Specification: `Technical_Documentation/Condenser_Feedwater_Architecture_Specification.md`

## 2) Included CS Scope
| CS ID | Title | Severity | Status |
|---|---|---|---|
| `CS-0116` | Condenser startup orchestration and SG sink-authority coupling incomplete after CS-0115 staged implementation | CRITICAL | CLOSED |
| `CS-0115` | Missing condenser + feedwater return module and startup permissive boundary contract (C-9/P-12) for steam-dump integration | CRITICAL | CLOSED |
| `CS-0082` | SG startup boundary behavior is modeled isolated where references indicate steam-line warmup/open-path behavior. | HIGH | CLOSED |
| `CS-0078` | SG secondary pressure response does not begin at RCP circulation onset; rise is delayed until near-boiling | HIGH | CLOSED |
| `CS-0057` | SG startup draining contract at ~200F is not wired into runtime execution path | HIGH | CLOSED |

## 3) Dependency Hierarchy Analysis
### Prerequisite CS items
- `CS-0082` is prerequisite for `CS-0078` and `CS-0057`.
- `CS-0115` staged implementation (Stages F-J) is prerequisite for `CS-0116` integration closure.
- `CS-0116` is prerequisite for final orchestration completion (condenser startup triggers, P-12 bypass policy, sink-authority coupling) before `CS-0078` re-test.

### Blocking relationships
- `CS-0082` blocks downstream pressure-response and draining acceptance.
- `CS-0116` blocks `CS-0078` until runtime orchestration uses those modules correctly (vacuum pulldown trigger, P-12 bypass policy, sink-authority coupling).
- `CS-0078` should be complete before final validation of `CS-0057` to avoid false positives in startup windows.
- External blocker: startup baseline freeze from `IP-0048` and primary authority freeze from `IP-0045`.

### Shared files/systems
- `Assets/Scripts/Physics/SGMultiNodeThermal.cs`
- `Assets/Scripts/Physics/SteamDumpController.cs`
- `Assets/Scripts/Validation/HeatupSimEngine.cs`
- `Assets/Scripts/Validation/HeatupSimEngine.Init.cs`
- `Assets/Scripts/Validation/HeatupSimEngine.HZP.cs`
- `Assets/Scripts/Validation/HeatupSimEngine.Logging.cs`
- `Assets/Scripts/UI/PlantOverviewScreen.cs`
- SG startup boundary-state and pressure-response pathways.

### Interference risk between fixes
- High interference risk if startup thermal authority or baseline timing changes during SG remediation.
- Moderate risk of masking defects if draining contract is wired before boundary model correction.
- CondenserPhysics <-> SteamDumpController steam load feedback loop - mitigated by using previous-timestep values.
- FeedwaterSystem <-> SGMultiNodeThermal mass coupling - mitigated by explicit conservation audit at each stage.
## 4) Execution Order and Critical Path
1. ~~Implement and validate `CS-0082`.~~ **PASS** (Stages A-E)
2. Implement and validate CS-0115 staged module baseline (Stages F-J).
3. Implement and validate CS-0116 orchestration completion and sink-authority coupling.
4. Implement and validate CS-0078 (unblocked after CS-0115 + CS-0116 completion).
5. Implement and validate CS-0057.

Critical path: `CS-0082 (DONE) -> CS-0115 (DONE) -> CS-0116 (DONE) -> CS-0078 (DONE) -> CS-0057 (DONE)`

## 5) Cross-Domain Notes
- Domain owner remains `DP-0011`.
- Any required runtime interactions with `DP-0001`, `DP-0006`, or `DP-0012` must use explicit Cross-Domain Inclusion Request records.
- The condenser/feedwater modules are architecturally a new subsystem boundary; however, they are assigned to DP-0011 because their primary purpose is to provide the missing SG secondary boundary sink. If a dedicated DP for Condenser/Feedwater is established in a future governance cycle, these modules would naturally migrate.

## 6) Execution Outcome Summary (Stages A-E, F-N rerun)
- `CS-0082`: PASS in final Stage D/E evidence (`HeatupLogs/IP-0046_StageD_20260217_230958`).
- `CS-0057`: PASS in final Stage D/E evidence (`T_rcs >= 200F` trigger at `15.228 hr`).
- `CS-0078`: PASS in final Stage D/E evidence (`inventory-derived` pre-boil branch with `NO` floor reversion before first boiling sample).
- `CS-0115`: COMPLETE and validated in runtime (`C-9` asserted, startup sequencing active).
- `CS-0116`: COMPLETE and validated in runtime (orchestration/sink-authority coupling in service).
- Additional validation blocker resolved during execution: PBOC contract runtime failure caused by Regime 2/Regime 3 control-flow branch coupling.

## 7) Revision History
| Revision | Date | Author | Summary of Changes | Reason for Amendment |
|---|---|---|---|---|
| v0.1 | 2026-02-17 | Codex | Initial successor plan draft from rescheduled IP-0037 scope. | Prepare executable DP-0011 plan with explicit dependency hierarchy and critical path. |
| v1.0 | 2026-02-17 | Codex | Executed Stage A-E workflow, implemented CS-0082 and CS-0057 runtime remediation, resolved validation runtime blocker, and generated closure recommendation package. | Record execution evidence and explicit closure-blocked disposition while CS-0078 validation remains unresolved. |
| v1.1 | 2026-02-17 | Codex | Added `CS-0115` (condenser + feedwater return and C-9/P-12 permissive boundary contract) to IP scope and updated dependency chain. | Align active blocker scope to unblock `CS-0078` under the same open IP. |
| v2.0 | 2026-02-17 | Codex | Amended IP-0046 with staged implementation plan Stages F-J for `CS-0115`. | Record approved execution expansion for condenser/feedwater/permissive implementation under the active IP. |
| v2.1 | 2026-02-17 | Codex | Added `CS-0116` to IP scope after Stage D rerun showed unresolved orchestration/sink-authority defects despite `CS-0115` module delivery. Updated dependency hierarchy and critical path. | Track post-implementation integration defects explicitly so closure can proceed with auditable scope. |
| v3.0 | 2026-02-17 | Codex | Amended IP-0046 with staged implementation plan Stages L-N for `CS-0116`. Stage L: condenser startup orchestration + P-12 bypass policy. Stage M: SG sink-authority coupling. Stage N: validation + CS-0078 re-test (subsumes Stage K). Updated CS-0115 status to COMPLETE, CS-0116 to EXECUTING. | Record approved execution expansion for orchestration/sink-authority completion under the active IP. |
| v3.1 | 2026-02-17 | Codex | Executed final Stage D/E rerun (`IP-0046_StageD_20260217_230958`) after SG pressure-source remediation and boundary-transition inventory fix. Updated CS outcomes to PASS/COMPLETE and closure recommendation to CLOSE. | Record final evidence set and closure eligibility for governance handoff. |
| v3.2 | 2026-02-18 | Codex | Closure approved; moved plan to `Closed/`, finalized closeout traceability artifacts, and recorded changelog entry per constitution. | Complete formal IP closeout transaction after closure approval. |

---
## 8) CS-0115 Staged Implementation Plan

### Architecture Specification Reference
Full architecture specification: `Technical_Documentation/Condenser_Feedwater_Architecture_Specification.md`

This section defines the staged execution plan for CS-0115. Each stage is a self-contained implementation increment with defined entry/exit criteria and a validation checkpoint. Execution SHALL halt after each stage for approval before proceeding.

### Stage F Ã¢â‚¬â€ PlantConstants.Condenser + CondenserPhysics Module
**Scope:** Create the condenser constants partial and the CondenserPhysics static module.

**New files:**
| File | Contents |
|------|----------|
| `Assets/Scripts/Physics/PlantConstants.Condenser.cs` | `PlantConstants.Condenser` nested class (vacuum setpoints, CW parameters, C-9/P-12 thresholds, timing constants) and `PlantConstants.Feedwater` nested class (CST, pump capacities, AFW parameters, temperatures, SG level setpoints) |
| `Assets/Scripts/Physics/CondenserPhysics.cs` | `CondenserState` struct, `CondenserPhysics` static class with Initialize(), StartVacuumPulldown(), Update(), C-9 evaluation, vacuumÃ¢â€ â€pressure conversions |

**Physics implemented:**
- First-order vacuum dynamics (Ãâ€ž=30s) responding to steam load vs. CW rejection
- Equilibrium backpressure from heat balance
- Vacuum pulldown sequence (hogging Ã¢â€ â€™ main ejectors Ã¢â€ â€™ design vacuum)
- C-9 interlock: vacuum Ã¢â€°Â¥ 22 in. Hg AND CW pumps Ã¢â€°Â¥ 1
- Hotwell saturation temperature from backpressure

**Exit criteria:**
- Compiles clean
- CondenserState initializes to atmospheric (0 in. Hg, no vacuum)
- C-9 is false at initialization
- Unit-level verification: vacuum converges to design after StartVacuumPulldown with CW running and no steam load

**Dependencies:** None (standalone module)

---

### Stage G Ã¢â‚¬â€ FeedwaterSystem Module
**Scope:** Create the FeedwaterSystem static module for hotwell inventory, condensate/feedwater pump models, AFW system, and CST tracking.

**New files:**
| File | Contents |
|------|----------|
| `Assets/Scripts/Physics/FeedwaterSystem.cs` | `FeedwaterState` struct, `AFWPumpType` enum, `FeedwaterSystem` static class with Initialize(), Update(), pump start/stop, hotwell level control, CST balance |

**Physics implemented:**
- Hotwell mass balance (condensed steam in, pump flow out, CST makeup/reject)
- Hotwell level control (documented setpoints: 24 in. normal, 28 in. reject, 21 in. makeup)
- CST inventory tracking with Tech Spec minimum warning
- Simplified pump models (on/off with rated capacity): condensate pumps, MFPs, motor/turbine AFW, startup AFW
- Feedwater temperature parameterization by startup phase
- Steam exit path mass balance: to condenser (closed loop) vs. to atmosphere (CST loss)

**Exit criteria:**
- Compiles clean
- FeedwaterState initializes with full CST (450,000 gal), no pumps running
- Hotwell level stabilizes at normal setpoint with balanced flows
- CST decrements correctly on atmospheric dump path

**Dependencies:** PlantConstants.Condenser (from Stage F) for feedwater constants

---

### Stage H Ã¢â‚¬â€ StartupPermissives Module + SteamDumpController Modification
**Scope:** Create the StartupPermissives module and modify SteamDumpController to gate on C-9/P-12.

**New files:**
| File | Contents |
|------|----------|
| `Assets/Scripts/Physics/StartupPermissives.cs` | `PermissiveState` struct, `SteamDumpBridgeState` enum, `StartupPermissives` static class with Initialize(), Evaluate(), SetP12Bypass() |

**Modified files:**
| File | Changes |
|------|---------|
| `Assets/Scripts/Physics/SteamDumpController.cs` | `ShouldAutoEnable()` gains `in PermissiveState` parameter; `Update()` forces demand=0 when !SteamDumpPermitted |

**Logic implemented:**
- C-9 pass-through from CondenserState
- P-12 evaluation: T_avg < 553Ã‚Â°F Ã¢â€ â€™ active; operator bypass tracking
- Steam dump bridge FSM: DumpsUnavailable Ã¢â€ â€™ DumpsArmed Ã¢â€ â€™ DumpsModulating
- SteamDumpController backward-compatible signature change (overload with default)

**Exit criteria:**
- Compiles clean
- Permissives initialize to all-blocked (C-9 false, P-12 active, dumps unavailable)
- SteamDumpController.ShouldAutoEnable returns false when C-9 false regardless of T_avg/pressure
- Bridge state transitions correctly: Unavailable Ã¢â€ â€™ Armed (on C-9 + P-12 bypass) Ã¢â€ â€™ Modulating (on pressure)

**Dependencies:** CondenserPhysics (Stage F) for C-9 state; PlantConstants.Condenser for P-12 threshold

---

### Stage I Ã¢â‚¬â€ HeatupSimEngine Integration
**Scope:** Wire condenser, feedwater, and permissive modules into the engine step loop. Add state fields for display. Modify initialization.

**Modified files:**
| File | Changes |
|------|---------|
| `Assets/Scripts/Validation/HeatupSimEngine.cs` | Add CondenserState/FeedwaterState/PermissiveState fields; add display fields; insert Update calls in StepSimulation after physics dispatch and before CVCS; sync display fields |
| `Assets/Scripts/Validation/HeatupSimEngine.Init.cs` | Initialize condenser/feedwater/permissive state in InitializeColdShutdown() and InitializeCommon() |
| `Assets/Scripts/Validation/HeatupSimEngine.HZP.cs` | Pass permissiveState to SteamDumpController.ShouldAutoEnable() and Update() |

**Integration points:**
- Step position: after physics dispatch (Regime 1/2/3 + SG update), before CVCS update
- Condenser vacuum pulldown trigger: when T_avg crosses ~325Ã‚Â°F
- Steam load input: from SteamDumpController.GetSteamMassFlow Ãƒâ€” h_fg
- Feedwater input: steam to condenser from dump controller, steam to atmosphere from atmospheric relief
- Permissive evaluation: every timestep with current condenser state and T_avg
- P-12 bypass: automatically applied when T_avg > 350Ã‚Â°F and condenser vacuum established (simulating operator action per startup procedure)

**Exit criteria:**
- Compiles clean
- Condenser initializes to atmospheric at sim start
- Vacuum pulldown begins near 325Ã‚Â°F
- C-9 asserts before T_avg reaches 550Ã‚Â°F
- P-12 bypass engages per startup procedure
- SteamDumpController correctly gated Ã¢â‚¬â€ dumps do NOT open until C-9 true AND P-12 bypassed/cleared
- No regression in existing Regime 1/2/3 temperature or pressure behavior before condenser activation

**Dependencies:** All three new modules (Stages F, G, H)

---

### Stage J Ã¢â‚¬â€ SGMultiNodeThermal Integration + Telemetry Extension
**Scope:** Pass condenser sink availability to SGMultiNodeThermal for secondary mass balance. Extend logging and PlantOverviewScreen.

**Modified files:**
| File | Changes |
|------|---------|
| `Assets/Scripts/Physics/SGMultiNodeThermal.cs` | Accept `condenserSinkAvailable` parameter; use in Boiling regime steam exit path calculation for mass balance |
| `Assets/Scripts/Validation/HeatupSimEngine.Logging.cs` | Add condenser/feedwater/permissive telemetry fields to interval log format |
| `Assets/Scripts/UI/PlantOverviewScreen.cs` | Replace condenser vacuum placeholder with live value; add C-9/P-12/bridge state indicators |

**Physics impact:**
- When condenser sink available: steam produced in Boiling regime exits via dump valves Ã¢â€ â€™ condenses Ã¢â€ â€™ returns via feedwater. Saturation pressure source mode governs.
- When condenser sink NOT available: steam accumulates in SG/steam lines Ã¢â€ â€™ inventory-derived pressure. This is the existing behavior for early startup.
- The distinction ensures SG pressure response correctly transitions from inventory-limited (early startup) to sink-regulated (post-condenser-establishment).

**Exit criteria:**
- Compiles clean
- SGMultiNodeThermal correctly uses condenser availability in pressure source mode selection
- Interval logs include all condenser/feedwater/permissive fields
- PlantOverviewScreen shows live condenser vacuum, C-9/P-12 status
- No mass conservation violations (secondary mass ledger delta < 0.1% per hour)

**Dependencies:** Engine integration (Stage I)

---

### Stage K Ã¢â‚¬â€ Full System Validation and CS-0078 Re-Test
**Scope:** Full heatup validation run with all condenser/feedwater/permissive systems active. CS-0078 acceptance re-test.

**Validation run checklist:**
1. Cold start Ã¢â€ â€™ Mode 5 Ã¢â€ â€™ Mode 4 Ã¢â€ â€™ Mode 3 Ã¢â€ â€™ HZP (557Ã‚Â°F)
2. Verify condenser vacuum pulldown sequence at ~325Ã‚Â°F
3. Verify C-9 asserts before steam dumps needed
4. Verify P-12 bypass per startup procedure
5. Verify steam dump bridge state transitions: Unavailable Ã¢â€ â€™ Armed Ã¢â€ â€™ Modulating
6. Verify SG secondary pressure trajectory matches documented profile:
   - At 300Ã‚Â°F RCS: 30-70 psig (NOT floor-clamped)
   - At 350Ã‚Â°F (Mode 3): 100-130 psig
   - At 557Ã‚Â°F: 1,092 psig with dumps modulating
7. Verify approach ÃŽâ€T within documented ranges:
   - At 300Ã‚Â°F: 30-45Ã‚Â°F
   - At 500Ã‚Â°F: 20-30Ã‚Â°F
8. Verify heatup timing: 160Ã¢â€ â€™557Ã‚Â°F in 8-10 hours
9. Verify secondary mass conservation (mass error < 0.1%/hr)
10. Verify CST inventory tracks correctly (no spurious depletion)
11. Verify no regression in primary-side physics (T_rcs, P_rcs, PZR level)

**CS-0078 Acceptance Criteria (from issue register):**
> SG secondary pressure response must begin at first non-zero RCP circulation onset and trend directionally upward through warmup without remaining floor-clamped until boiling transition.

**Exit criteria:**
- CS-0078 acceptance criteria met
- All validation checklist items pass
- No conservation violations
- No regression in previously passing CS items (CS-0082, CS-0057)

**Post-validation:**
- CS-0115 Ã¢â€ â€™ CLOSED
- CS-0078 Ã¢â€ â€™ CLOSED (if acceptance met)
- IP-0046 closure recommendation updated

**Dependencies:** All stages F through J complete

---

## 12) CS-0116 Staged Implementation Plan

### Defect Summary (from Investigation Report)
CS-0115 delivered the condenser/feedwater/permissive modules, but Stage D rerun evidence shows three integration defects:

1. **Condenser startup never actuated** â€” `CondenserPhysics.StartVacuumPulldown()` and `StartCWPump()` are never called by the engine. Condenser remains at atmospheric (0 in. Hg vacuum) for the entire run. C-9 never asserts.
2. **P-12 bypass never engaged** â€” `StartupPermissives.SetP12Bypass()` is never called. P-12 remains active/blocking for the entire heatup (T_avg < 553Â°F) when per startup procedure it should be bypassed around 350Â°F once condenser vacuum is established.
3. **SG OPEN-mode steam outflow unconstrained by sink availability** â€” When `SteamIsolated = false`, `SteamOutflow_lbhr = SteamProductionRate_lbhr` regardless of whether condenser/dumps are actually available. Steam exits as if through an infinite sink even when dumps are blocked by permissives.

### Prerequisite
All CS-0115 stages (F-J) must be complete. The APIs (`StartVacuumPulldown()`, `SetP12Bypass()`, `SteamIsolated`, condenser/permissive state fields) exist but are not wired into the runtime startup sequence.

---

### Stage L - Condenser Startup Orchestration + P-12 Bypass Policy

**Scope:** Add deterministic condenser startup trigger and P-12 bypass policy to the engine startup timeline.

**Modified files:**
| File | Changes |
|------|---------|
| `Assets/Scripts/Validation/HeatupSimEngine.cs` | Add condenser startup orchestration method; add condenser-started and P12-bypass-commanded tracking fields; call orchestration from StepSimulation Section 1D |

**Orchestration logic:**
1. **Condenser startup trigger** - When condenser is not yet started and any trigger is true:
   - Startup state is `Mode 4` (Mode 5 -> Mode 4 transition)
   - All required RCPs are running
   - SG steam onset is observed (`sgSteaming` or `P_sat` pressure branch)
   - Fallback temperature trigger `T_rcs >= PlantConstants.Condenser.CONDENSER_PREP_TEMP_F` (325F)
   - Action: call `CondenserPhysics.StartVacuumPulldown(ref condenserState, simTime)` and `FeedwaterSystem.StartCondensatePump(ref feedwaterState)`
   - Log trigger reason(s) for traceability
   - Set tracking flag `condenserStartupCommanded = true`

2. **P-12 bypass policy** - When condenser vacuum established (`condenserState.C9_CondenserAvailable == true`) and `T_avg >= PlantConstants.Condenser.P12_BYPASS_ENGAGE_TEMP_F` (350F) and P-12 bypass not yet commanded:
   - Call `StartupPermissives.SetP12Bypass(ref permissiveState, true)`
   - Log event: `"P-12 BYPASS ENGAGED - C-9 satisfied, T_avg={T_avg:F1}F"`
   - Set tracking flag `p12BypassCommanded = true`

**Timing rationale:**
- Multi-trigger startup removes circular dependency risk where condenser startup waits on a temperature that itself depends on pressure/sink behavior.
- 325F remains as a fallback so prior timing margin is preserved.
- P-12 bypass remains conditional on C-9 satisfied and procedural T_avg threshold.

**Exit criteria:**
- Compiles clean
- Condenser vacuum pulldown initiates through state-based startup triggers (Mode 4 / RCP-ready / steam-onset), with 325F fallback retained
- C-9 asserts within ~16 minutes of pulldown start (hogging 8 min + main ejectors 8 min)
- P-12 bypass engages after C-9 and T_avg > 350F
- Steam dump bridge transitions from `DumpsUnavailable` -> `DumpsArmed` when C-9 + P-12 bypass satisfied
- No regression in primary-side physics before condenser activation point

**Dependencies:** CS-0115 Stages F-J complete (existing module APIs)

---

### Stage M â€” SG Sink-Authority Coupling

**Scope:** Couple SG OPEN-mode steam outflow to actual condenser/dump availability so that steam does not exit the SG unconstrained when the dump path is blocked.

**Modified files:**
| File | Changes |
|------|---------|
| `Assets/Scripts/Physics/SGMultiNodeThermal.cs` | Add `condenserSinkAvailable` parameter to `Update()` method (backward-compatible overload); use it to gate steam outflow rate in boiling regime |
| `Assets/Scripts/Validation/HeatupSimEngine.cs` | Pass `steamDumpPermitted` to SGMultiNodeThermal.Update() calls in all three regimes |

**Physics logic:**
When SG is in OPEN mode (`SteamIsolated = false`) and boiling:
- If `condenserSinkAvailable == true`: steam outflow = production rate (existing behavior â€” quasi-steady-state open system, saturation pressure tracking)
- If `condenserSinkAvailable == false`: steam outflow = 0 (steam accumulates in SG secondary like isolated mode, inventory-derived pressure governs)

This creates the correct physical model:
- **Early startup (T < 325Â°F)**: SG boundary is OPEN per CS-0082, but no condenser sink exists. Steam produced during early boiling accumulates â†’ inventory-derived pressure rises naturally from floor. This is the missing mechanism for CS-0078 (pressure response begins at boiling onset, NOT floor-clamped).
- **Post-condenser establishment (T > ~340Â°F, C-9 satisfied, P-12 bypassed)**: Condenser sink becomes available. Steam exits freely â†’ saturation pressure tracking governs. Steam dumps modulate to control T_avg.

**Backward compatibility:** SGMultiNodeThermal.Update() gains a new overload with `condenserSinkAvailable` parameter. The existing 5-parameter overload delegates with `condenserSinkAvailable: true` (preserving current behavior for any callers outside the engine).

**Exit criteria:**
- Compiles clean
- SGMultiNodeThermal correctly distinguishes sink-available vs sink-unavailable in steam outflow calculation
- When sink NOT available: steam accumulates, inventory-derived pressure rises from floor through boiling
- When sink available: steam exits freely, saturation pressure tracking governs
- Backward-compatible overload preserves existing caller behavior
- No mass conservation violations in secondary mass balance

**Dependencies:** Stage L complete (condenser startup and P-12 bypass wired)

---

### Stage N â€” CS-0116 Validation + CS-0078 Re-Test

**Scope:** Full heatup validation run with condenser startup orchestration, P-12 bypass policy, and SG sink-authority coupling active. This stage subsumes the Stage K validation scope.

**Validation run checklist:**
1. Cold start â†’ Mode 5 â†’ Mode 4 â†’ Mode 3 â†’ HZP (557Â°F)
2. Verify condenser vacuum pulldown initiates at ~325Â°F
3. Verify vacuum reaches design within ~16 minutes of pulldown start
4. Verify C-9 asserts before T_avg reaches 350Â°F (with margin)
5. Verify P-12 bypass engages when C-9 satisfied AND T_avg > 350Â°F
6. Verify steam dump bridge transitions: Unavailable â†’ Armed â†’ Modulating
7. Verify SG pressure trajectory during early boiling (pre-condenser):
   - Pressure rises from floor via inventory accumulation (NOT stuck at floor)
   - At 300Â°F RCS: 30-70 psig
   - At 350Â°F (Mode 3): 100-130 psig
8. Verify SG pressure trajectory post-condenser establishment:
   - Saturation pressure tracking governs
   - At 557Â°F: 1,092 psig with dumps modulating
9. Verify heatup timing: 160â†’557Â°F in 8-10 hours
10. Verify secondary mass conservation (mass error < 0.1%/hr)
11. Verify CST inventory tracks correctly
12. Verify no regression in primary-side physics (T_rcs, P_rcs, PZR level)
13. Verify no regression in previously passing CS items (CS-0082, CS-0057)

**CS-0078 Acceptance Criteria (from issue register):**
> SG secondary pressure response must begin at first non-zero RCP circulation onset and trend directionally upward through warmup without remaining floor-clamped until boiling transition.

**Exit criteria:**
- CS-0078 acceptance criteria met
- All 13 validation checklist items pass
- No conservation violations
- No regression in CS-0082, CS-0057

**Post-validation:**
- CS-0116 â†’ CLOSED
- CS-0115 â†’ CLOSED
- CS-0078 â†’ CLOSED (if acceptance met)
- IP-0046 closure recommendation updated

**Dependencies:** Stages L and M complete

---

## 13) Modified File Inventory (CS-0116)

| File | Stage | Change Summary |
|------|-------|----------------|
| `Assets/Scripts/Validation/HeatupSimEngine.cs` | L | Add condenser startup orchestration, P-12 bypass policy, tracking fields |
| `Assets/Scripts/Physics/SGMultiNodeThermal.cs` | M | Add `condenserSinkAvailable` parameter; gate steam outflow by sink availability |
| `Assets/Scripts/Validation/HeatupSimEngine.cs` | M | Pass `steamDumpPermitted` to SGMultiNodeThermal.Update() in all regimes |

## 14) Risk Assessment (CS-0116)

### High-Risk Areas
| Risk | Mitigation |
|------|-----------|
| Condenser startup timing too late â€” C-9 not satisfied before dumps needed | 325Â°F trigger gives ~5-6 hours of margin before 550Â°F dump threshold; 16-min pulldown is negligible |
| P-12 bypass too early â€” condenser not actually ready | P-12 bypass gated on C-9 satisfaction (condenser vacuum established), not just temperature |
| Inventory-derived pressure during pre-condenser boiling diverges unrealistically | Bounded by steam space volume and production rate; converges to sat tracking when sink established |
| SGMultiNodeThermal sink-authority change creates pressure discontinuity at transition | Transition is gradual: C-9 asserts â†’ outflow begins â†’ inventory pressure converges to saturation pressure naturally |

### Interface Risks
| Interface | Risk | Mitigation |
|-----------|------|-----------|
| Engine orchestration â†’ CondenserPhysics | Timing of StartVacuumPulldown must precede dump need by adequate margin | Conservative 325Â°F trigger per documented startup practice |
| Engine orchestration â†’ StartupPermissives | P-12 bypass must not fire before C-9 | Gated on `condenserState.C9_CondenserAvailable` |
| SGMultiNodeThermal â†” HeatupSimEngine | New parameter on Update() must be passed in all 3 regime branches | Backward-compatible overload; systematic grep verification at implementation |

---

## 9) New File Inventory (CS-0115)

| File | Stage | Purpose |
|------|-------|---------|
| `Assets/Scripts/Physics/PlantConstants.Condenser.cs` | F | Condenser + feedwater constants (PlantConstants partial) |
| `Assets/Scripts/Physics/CondenserPhysics.cs` | F | Condenser vacuum dynamics, backpressure, C-9 interlock |
| `Assets/Scripts/Physics/FeedwaterSystem.cs` | G | Hotwell inventory, CST, condensate/AFW pumps, return flow |
| `Assets/Scripts/Physics/StartupPermissives.cs` | H | C-9/P-12 evaluation, steam dump bridge FSM |

## 10) Modified File Inventory (CS-0115)

| File | Stage | Change Summary |
|------|-------|----------------|
| `Assets/Scripts/Physics/SteamDumpController.cs` | H | Gate ShouldAutoEnable/Update on PermissiveState |
| `Assets/Scripts/Validation/HeatupSimEngine.cs` | I | Add state fields, step-loop insertion, display sync |
| `Assets/Scripts/Validation/HeatupSimEngine.Init.cs` | I | Initialize condenser/FW/permissive state |
| `Assets/Scripts/Validation/HeatupSimEngine.HZP.cs` | I | Pass permissives to SteamDumpController |
| `Assets/Scripts/Physics/SGMultiNodeThermal.cs` | J | Accept condenserSinkAvailable for mass balance |
| `Assets/Scripts/Validation/HeatupSimEngine.Logging.cs` | J | Add telemetry fields to interval logs |
| `Assets/Scripts/UI/PlantOverviewScreen.cs` | J | Replace condenser placeholder with live values |

## 11) Risk Assessment (CS-0115)

### High-Risk Areas
| Risk | Mitigation |
|------|-----------|
| Condenser vacuum dynamics interact with SG pressure response creating feedback | Test condenser in isolation (Stage F) before integration (Stage I) |
| Feedwater return flow creates secondary mass balance coupling | Conservation audit at each stage; explicit mass ledger |
| P-12 bypass timing affects dump availability window | Parameterize bypass threshold; validate against startup spec |
| SteamDumpController signature change breaks existing callers | Overload with backward-compatible default (permissives = all-permitted) |

### Interface Risks
| Interface | Risk | Mitigation |
|-----------|------|-----------|
| CondenserPhysics Ã¢â€ â€ SteamDumpController | Steam load feedback loop (dumps open Ã¢â€ â€™ load rises Ã¢â€ â€™ backpressure rises Ã¢â€ â€™ C-9 could drop) | Use previous-timestep steam load; verify C-9 never drops during normal dump operation |
| FeedwaterSystem Ã¢â€ â€ SGMultiNodeThermal | Mass balance coupling (SG produces steam Ã¢â€ â€™ condenses Ã¢â€ â€™ returns as FW) | Explicit mass accounting; FW return rate Ã¢â€°Â¤ steam production rate |
| StartupPermissives Ã¢â€ â€ HeatupSimEngine.HZP | Existing auto-enable logic change | Backward-compatible overload; regression test existing HZP behavior |

### Version Impact Assessment
This implementation adds a new subsystem (condenser/feedwater/permissive boundary) to the SG secondary domain. Per versioning policy:
- **Classification: MINOR** Ã¢â‚¬â€ material new capability (condenser/feedwater subsystem) with cross-system integration
- **Proposed version on closure: 1.1.0.0** (MINOR increment from current 1.0.1.0, resetting PATCH and REVISION)



